{"ast":null,"code":"var _jsxFileName = \"/Users/antoninolatocca/Developer/React/react-ricerca-treni/src/App.js\";\nimport React, { useState } from 'react';\nimport Select from 'react-select';\nimport './style.css';\n/**\n * + App {treni}\n *    + Ricerca {ricercaPartenza, ricercaArrivo, ricercaOraPartenza, ricercaOraArrivo}\n *    + TabellaSoluzioni {treni, ricercaPartenza, ricercaArrivo, ricercaOraPartenza, ricercaOraArrivo}\n *        + RigaSoluzioneTreno {treno}\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RigaSoluzioneTreno extends React.Component {\n  GetHourDiff(pStartHour, pEndHour) {\n    let res = '';\n    let aTmp = ''; // Trasformo l'orario di inizio in minuti\n\n    aTmp = pStartHour.split(':');\n    let nStartMin = Number(aTmp[0]) * 60 + Number(aTmp[1]); // Trasformo l'orario di fine in minuti\n\n    aTmp = pEndHour.split(':');\n    let nEndMin = Number(aTmp[0]) * 60 + Number(aTmp[1]); // Calcolo la differenza\n\n    let nDiff = 0;\n\n    if (nStartMin > nEndMin) {\n      nDiff = nStartMin - nEndMin;\n    } else {\n      nDiff = nEndMin - nStartMin;\n    } // Formatto la stringa di uscita\n\n\n    let nDiffMin = 0;\n    let nDiffHour = 0;\n\n    if (nDiff > 59) {\n      nDiffMin = nDiff % 60;\n      nDiffHour = (nDiff - nDiffMin) / 60;\n    } else {\n      nDiffMin = nDiff;\n    }\n\n    if (nDiffHour < 10) res += '0';\n    res += nDiffHour;\n    res += 'h ';\n    if (nDiffMin < 10) res += '0';\n    res += nDiffMin;\n    res += 'm';\n    return res;\n  }\n\n  render() {\n    const treno = this.props.treno;\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: [treno.stazione_partenza, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: treno.orario_partenza\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [treno.stazione_arrivo, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: treno.orario_arrivo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: this.GetHourDiff(treno.orario_partenza, treno.orario_arrivo)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: treno.nome_treno\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"font-bold\",\n        children: [\"\\u20AC\", treno.prezzo_biglietto]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Ricerca extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleRicercaPartenzaChange = this.handleRicercaPartenzaChange.bind(this);\n    this.handleRicercaArrivoChange = this.handleRicercaArrivoChange.bind(this);\n    this.state = {\n      start: '',\n      end: ''\n    };\n    this._stazioni = [];\n\n    for (let item of this.props.stazioni.values()) {\n      this._stazioni.push({\n        value: item,\n        label: item\n      });\n    }\n\n    ;\n  }\n\n  handleRicercaPartenzaChange(e) {\n    this.props.onFilterPartenzaChange(e.target.value);\n  }\n\n  handleRicercaArrivoChange(e) {\n    this.props.onFilterArrivoChange(e.target.value);\n  }\n\n  logChangeStart(val) {\n    this.setState({\n      start: val.value\n    });\n    this.props.onFilterOraInizioChange(val.value);\n  }\n\n  logChangeEnd(val) {\n    this.setState({\n      end: val.value\n    });\n    this.props.onFilterOraFineChange(val.value);\n  }\n\n  displaySelectedValue(n, x) {\n    if (!n) n = x;\n    return n <= 9 ? '0' + n : n;\n  }\n\n  render() {\n    let ricercaPartenza = this.props.ricercaPartenza;\n    let ricercaArrivo = this.props.ricercaArrivo;\n    let ricercaOraInizio = this.props.ricercaOraInizio;\n    let ricercaOraFine = this.props.ricercaOraFine;\n    console.log(this.props);\n    var options = [{\n      value: '0',\n      label: '00:00'\n    }, {\n      value: '1',\n      label: '01:00'\n    }, {\n      value: '2',\n      label: '02:00'\n    }, {\n      value: '3',\n      label: '03:00'\n    }, {\n      value: '4',\n      label: '04:00'\n    }, {\n      value: '5',\n      label: '05:00'\n    }, {\n      value: '6',\n      label: '06:00'\n    }, {\n      value: '7',\n      label: '07:00'\n    }, {\n      value: '8',\n      label: '08:00'\n    }, {\n      value: '9',\n      label: '09:00'\n    }, {\n      value: '10',\n      label: '10:00'\n    }, {\n      value: '11',\n      label: '11:00'\n    }, {\n      value: '12',\n      label: '12:00'\n    }, {\n      value: '13',\n      label: '13:00'\n    }, {\n      value: '14',\n      label: '14:00'\n    }, {\n      value: '15',\n      label: '15:00'\n    }, {\n      value: '16',\n      label: '16:00'\n    }, {\n      value: '17',\n      label: '17:00'\n    }, {\n      value: '18',\n      label: '18:00'\n    }, {\n      value: '19',\n      label: '19:00'\n    }, {\n      value: '20',\n      label: '20:00'\n    }, {\n      value: '21',\n      label: '21:00'\n    }, {\n      value: '22',\n      label: '22:00'\n    }, {\n      value: '23',\n      label: '23:00'\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"rigaRicerca\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"trenoDa\",\n              children: \"Da \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: ricercaPartenza,\n              placeholder: \"Citt\\xE0 di partenza\",\n              id: \"trenoDa\",\n              onChange: this.handleRicercaPartenzaChange,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"trenoA\",\n              children: \"A \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: ricercaArrivo,\n              placeholder: \"Citt\\xE0 di arrivo\",\n              id: \"trenoA\",\n              onChange: this.handleRicercaArrivoChange,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"dalleOre\",\n              children: \"Stazioni \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"stazioni\",\n              value: this._stazioni[0].value,\n              options: this._stazioni,\n              placeholder: this._stazioni[0].value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"dalleOre\",\n              children: \"Dalle \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"dalleOre\",\n              value: this.state.start,\n              options: options,\n              onChange: this.logChangeStart.bind(this),\n              placeholder: this.displaySelectedValue(this.state.start, ricercaOraInizio)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"alleOre\",\n              children: \"Alle \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"alleOre\",\n              value: this.state.end,\n              options: options,\n              onChange: this.logChangeEnd.bind(this),\n              placeholder: this.displaySelectedValue(this.state.end, ricercaOraFine)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass TabellaSoluzioni extends React.Component {\n  isInRange(partenza, arrivo, min, max) {\n    partenza = parseInt(partenza.substring(0, 2));\n    arrivo = parseInt(arrivo.substring(0, 2));\n    return partenza >= min && arrivo <= max ? true : false;\n  }\n\n  render() {\n    const righe = [];\n    const ricercaPartenza = this.props.ricercaPartenza;\n    const ricercaArrivo = this.props.ricercaArrivo;\n    const ricercaInizio = this.props.ricercaOraInizio;\n    const ricercaFine = this.props.ricercaOraFine;\n    this.props.treni.forEach(treno => {\n      if (treno.stazione_partenza.toUpperCase() === ricercaPartenza.toUpperCase() && treno.stazione_arrivo.toUpperCase() === ricercaArrivo.toUpperCase() && this.isInRange(treno.orario_partenza, treno.orario_arrivo, ricercaInizio, ricercaFine)) {\n        righe.push( /*#__PURE__*/_jsxDEV(RigaSoluzioneTreno, {\n          treno: treno\n        }, treno.nome_treno, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 20\n        }, this));\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          id: \"rigaIntestazione\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Partenza\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Arrivo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Durata\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Treno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Prezzo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: righe\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const _today = new Date();\n\n    const _h = _today.getHours();\n\n    this.state = {\n      ricercaPartenza: 'Milano Centrale',\n      ricercaArrivo: 'Roma Termini',\n      ricercaOraInizio: _h,\n      ricercaOraFine: '23'\n    };\n    this.handleRicercaPartenzaChange = this.handleRicercaPartenzaChange.bind(this);\n    this.handleRicercaArrivoChange = this.handleRicercaArrivoChange.bind(this);\n    this.handleRicercaOraInizioChange = this.handleRicercaOraInizioChange.bind(this);\n    this.handleRicercaOraFineChange = this.handleRicercaOraFineChange.bind(this);\n    this.getListaStazioni();\n  }\n\n  handleRicercaPartenzaChange(partenza) {\n    this.setState({\n      ricercaPartenza: partenza\n    });\n  }\n\n  handleRicercaArrivoChange(arrivo) {\n    this.setState({\n      ricercaArrivo: arrivo\n    });\n  }\n\n  handleRicercaOraInizioChange(inizio) {\n    this.setState({\n      ricercaOraInizio: inizio\n    });\n  }\n\n  handleRicercaOraFineChange(fine) {\n    this.setState({\n      ricercaOraFine: fine\n    });\n  }\n\n  getListaStazioni() {\n    this._stazioni = new Set();\n    this.props.frecce.treni.forEach(tratta => {\n      tratta.fermate.forEach(fermata => {\n        this._stazioni.add(fermata.stazione);\n      });\n    });\n    console.log(this._stazioni);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Ricerca, {\n        stazioni: this._stazioni,\n        ricercaPartenza: this.state.ricercaPartenza,\n        ricercaArrivo: this.state.ricercaArrivo,\n        ricercaOraInizio: this.state.ricercaOraInizio,\n        ricercaOraFine: this.state.ricercaOraFine,\n        onFilterPartenzaChange: this.handleRicercaPartenzaChange,\n        onFilterArrivoChange: this.handleRicercaArrivoChange,\n        onFilterOraInizioChange: this.handleRicercaOraInizioChange,\n        onFilterOraFineChange: this.handleRicercaOraFineChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabellaSoluzioni, {\n        treni: this.props.treni,\n        ricercaPartenza: this.state.ricercaPartenza,\n        ricercaArrivo: this.state.ricercaArrivo,\n        ricercaOraInizio: this.state.ricercaOraInizio,\n        ricercaOraFine: this.state.ricercaOraFine\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/antoninolatocca/Developer/React/react-ricerca-treni/src/App.js"],"names":["React","useState","Select","RigaSoluzioneTreno","Component","GetHourDiff","pStartHour","pEndHour","res","aTmp","split","nStartMin","Number","nEndMin","nDiff","nDiffMin","nDiffHour","render","treno","props","stazione_partenza","orario_partenza","stazione_arrivo","orario_arrivo","nome_treno","prezzo_biglietto","Ricerca","constructor","handleRicercaPartenzaChange","bind","handleRicercaArrivoChange","state","start","end","_stazioni","item","stazioni","values","push","value","label","e","onFilterPartenzaChange","target","onFilterArrivoChange","logChangeStart","val","setState","onFilterOraInizioChange","logChangeEnd","onFilterOraFineChange","displaySelectedValue","n","x","ricercaPartenza","ricercaArrivo","ricercaOraInizio","ricercaOraFine","console","log","options","TabellaSoluzioni","isInRange","partenza","arrivo","min","max","parseInt","substring","righe","ricercaInizio","ricercaFine","treni","forEach","toUpperCase","App","_today","Date","_h","getHours","handleRicercaOraInizioChange","handleRicercaOraFineChange","getListaStazioni","inizio","fine","Set","frecce","tratta","fermate","fermata","add","stazione"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Select from 'react-select';\n\nimport './style.css';\n\n/**\n * + App {treni}\n *    + Ricerca {ricercaPartenza, ricercaArrivo, ricercaOraPartenza, ricercaOraArrivo}\n *    + TabellaSoluzioni {treni, ricercaPartenza, ricercaArrivo, ricercaOraPartenza, ricercaOraArrivo}\n *        + RigaSoluzioneTreno {treno}\n */\n\nclass RigaSoluzioneTreno extends React.Component {\n  GetHourDiff(pStartHour, pEndHour) {\n    let res = '';\n    let aTmp = '';\n    // Trasformo l'orario di inizio in minuti\n    aTmp = pStartHour.split(':');\n    let nStartMin = Number(aTmp[0]) * 60 + Number(aTmp[1]);\n    // Trasformo l'orario di fine in minuti\n    aTmp = pEndHour.split(':');\n    let nEndMin = Number(aTmp[0]) * 60 + Number(aTmp[1]);\n    // Calcolo la differenza\n    let nDiff = 0;\n    if (nStartMin > nEndMin) {\n      nDiff = nStartMin - nEndMin;\n    } else {\n      nDiff = nEndMin - nStartMin;\n    }\n    // Formatto la stringa di uscita\n    let nDiffMin = 0;\n    let nDiffHour = 0;\n    if (nDiff > 59) {\n      nDiffMin = nDiff % 60;\n      nDiffHour = (nDiff - nDiffMin) / 60;\n    } else {\n      nDiffMin = nDiff;\n    }\n    if (nDiffHour < 10) res += '0';\n    res += nDiffHour;\n    res += 'h ';\n    if (nDiffMin < 10) res += '0';\n    res += nDiffMin;\n    res += 'm';\n    return res;\n  }\n\n  render() {\n    const treno = this.props.treno;\n    return (\n      <tr>\n        <td>\n          {treno.stazione_partenza}\n          <br />\n          <span className=\"font-bold\">{treno.orario_partenza}</span>\n        </td>\n        <td>\n          {treno.stazione_arrivo}\n          <br />\n          <span className=\"font-bold\">{treno.orario_arrivo}</span>\n        </td>\n        <td>\n          <b>{this.GetHourDiff(treno.orario_partenza, treno.orario_arrivo)}</b>\n        </td>\n        <td>{treno.nome_treno}</td>\n        <td className=\"font-bold\">&euro;{treno.prezzo_biglietto}</td>\n      </tr>\n    );\n  }\n}\n\nclass Ricerca extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleRicercaPartenzaChange = this.handleRicercaPartenzaChange.bind(this);\n\n    this.handleRicercaArrivoChange = this.handleRicercaArrivoChange.bind(this);\n\n    this.state = {\n      start : '',\n      end : ''\n    };\n\n    this._stazioni = [];\n    for(let item of this.props.stazioni.values()) {\n      this._stazioni.push({value: item, label: item});\n    };\n\n  }\n\n  handleRicercaPartenzaChange(e) {\n    this.props.onFilterPartenzaChange(e.target.value);\n  }\n\n  handleRicercaArrivoChange(e) {\n    this.props.onFilterArrivoChange(e.target.value);\n  }\n\n  logChangeStart(val) {\n    this.setState({start: val.value});\n    this.props.onFilterOraInizioChange(val.value);\n  }\n\n  logChangeEnd(val) {\n    this.setState({end: val.value});\n    this.props.onFilterOraFineChange(val.value);\n  }\n\n  displaySelectedValue(n, x) {\n    if(!n) n = x;\n    return (n <= 9) ? '0' + n : n;\n  }\n\n  render() {\n    let ricercaPartenza = this.props.ricercaPartenza;\n    let ricercaArrivo = this.props.ricercaArrivo;\n\n    let ricercaOraInizio = this.props.ricercaOraInizio;\n    let ricercaOraFine = this.props.ricercaOraFine;\n\n    console.log(this.props);\n\n    var options = [\n      {value: '0', label: '00:00' },\n      {value: '1', label: '01:00' },\n      {value: '2', label: '02:00' },\n      {value: '3', label: '03:00' },\n      {value: '4', label: '04:00' },\n      {value: '5', label: '05:00' },\n      {value: '6', label: '06:00' },\n      {value: '7', label: '07:00' },\n      {value: '8', label: '08:00' },\n      {value: '9', label: '09:00' },\n      {value: '10', label: '10:00' },\n      {value: '11', label: '11:00' },\n      {value: '12', label: '12:00' },\n      {value: '13', label: '13:00' },\n      {value: '14', label: '14:00' },\n      {value: '15', label: '15:00' },\n      {value: '16', label: '16:00' },\n      {value: '17', label: '17:00' },\n      {value: '18', label: '18:00' },\n      {value: '19', label: '19:00' },\n      {value: '20', label: '20:00' },\n      {value: '21', label: '21:00' },\n      {value: '22', label: '22:00' },\n      {value: '23', label: '23:00' }\n    ];\n\n    return (\n      <div id=\"rigaRicerca\">\n        <form>\n          <div className=\"row\">\n            <div className=\"col form-group\">\n              <label htmlFor=\"trenoDa\">Da </label>\n              <input\n                type=\"text\"\n                value={ricercaPartenza}\n                placeholder=\"Città di partenza\"\n                id=\"trenoDa\"\n                onChange={this.handleRicercaPartenzaChange}\n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"col form-group\">\n              <label htmlFor=\"trenoA\">A </label>\n              <input\n                type=\"text\"\n                value={ricercaArrivo}\n                placeholder=\"Città di arrivo\"\n                id=\"trenoA\"\n                onChange={this.handleRicercaArrivoChange}\n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"col form-group\">\n              <label htmlFor=\"dalleOre\">Stazioni </label>\n              <Select\n                id=\"stazioni\"\n                value={this._stazioni[0].value}\n                options={this._stazioni}\n                placeholder={this._stazioni[0].value}\n              />\n            </div>\n            <div className=\"col form-group\">\n              <label htmlFor=\"dalleOre\">Dalle </label>\n              <Select\n                id=\"dalleOre\"\n                value={this.state.start}\n                options={options}\n                onChange={this.logChangeStart.bind(this)}\n                placeholder={this.displaySelectedValue(this.state.start, ricercaOraInizio)}\n              />\n            </div>\n            <div className=\"col form-group\">\n              <label htmlFor=\"alleOre\">Alle </label>\n              <Select\n                id=\"alleOre\"\n                value={this.state.end}\n                options={options}\n                onChange={this.logChangeEnd.bind(this)}\n                placeholder={this.displaySelectedValue(this.state.end, ricercaOraFine)}\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nclass TabellaSoluzioni extends React.Component {\n  isInRange(partenza, arrivo, min, max) {\n    partenza = parseInt(partenza.substring(0, 2));\n    arrivo = parseInt(arrivo.substring(0, 2));\n    return partenza >= min && arrivo <= max ? true : false;\n  }\n\n  render() {\n    const righe = [];\n    const ricercaPartenza = this.props.ricercaPartenza;\n    const ricercaArrivo = this.props.ricercaArrivo;\n    const ricercaInizio = this.props.ricercaOraInizio;\n    const ricercaFine = this.props.ricercaOraFine;\n\n    this.props.treni.forEach(treno => {\n      if (\n        treno.stazione_partenza.toUpperCase() ===\n          ricercaPartenza.toUpperCase() &&\n        treno.stazione_arrivo.toUpperCase() === ricercaArrivo.toUpperCase() &&\n        this.isInRange(\n          treno.orario_partenza,\n          treno.orario_arrivo,\n          ricercaInizio,\n          ricercaFine\n        )\n      ) {\n        righe.push(<RigaSoluzioneTreno treno={treno} key={treno.nome_treno} />);\n      }\n    });\n\n    return (\n      <table>\n        <thead>\n          <tr id=\"rigaIntestazione\">\n            <th>Partenza</th>\n            <th>Arrivo</th>\n            <th>Durata</th>\n            <th>Treno</th>\n            <th>Prezzo</th>\n          </tr>\n        </thead>\n        <tbody>{righe}</tbody>\n      </table>\n    );\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    const _today = new Date();\n    const _h = _today.getHours();\n    this.state = {\n      ricercaPartenza: 'Milano Centrale',\n      ricercaArrivo: 'Roma Termini',\n      ricercaOraInizio: _h,\n      ricercaOraFine: '23'\n    };\n\n    this.handleRicercaPartenzaChange = this.handleRicercaPartenzaChange.bind(\n      this\n    );\n    this.handleRicercaArrivoChange = this.handleRicercaArrivoChange.bind(\n      this\n    );\n\n    this.handleRicercaOraInizioChange = this.handleRicercaOraInizioChange.bind(\n      this\n    );\n    this.handleRicercaOraFineChange = this.handleRicercaOraFineChange.bind(\n      this\n    );\n\n    this.getListaStazioni();\n  }\n\n  handleRicercaPartenzaChange(partenza) {\n    this.setState({\n      ricercaPartenza: partenza\n    });\n  }\n\n  handleRicercaArrivoChange(arrivo) {\n    this.setState({\n      ricercaArrivo: arrivo\n    });\n  }\n\n  handleRicercaOraInizioChange(inizio) {\n    this.setState({\n      ricercaOraInizio: inizio\n    });\n  }\n\n  handleRicercaOraFineChange(fine) {\n    this.setState({\n      ricercaOraFine: fine\n    });\n  }\n\n  getListaStazioni() {\n    this._stazioni = new Set();\n    this.props.frecce.treni.forEach(tratta => {\n        tratta.fermate.forEach(fermata => {\n            this._stazioni.add(fermata.stazione);\n        })\n    });\n    console.log(this._stazioni);\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Ricerca\n          stazioni={this._stazioni}\n          ricercaPartenza={this.state.ricercaPartenza}\n          ricercaArrivo={this.state.ricercaArrivo}\n          ricercaOraInizio={this.state.ricercaOraInizio}\n          ricercaOraFine={this.state.ricercaOraFine}\n          onFilterPartenzaChange={this.handleRicercaPartenzaChange}\n          onFilterArrivoChange={this.handleRicercaArrivoChange}\n          onFilterOraInizioChange={this.handleRicercaOraInizioChange}\n          onFilterOraFineChange={this.handleRicercaOraFineChange}\n        />\n        <TabellaSoluzioni\n          treni={this.props.treni}\n          ricercaPartenza={this.state.ricercaPartenza}\n          ricercaArrivo={this.state.ricercaArrivo}\n          ricercaOraInizio={this.state.ricercaOraInizio}\n          ricercaOraFine={this.state.ricercaOraFine}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}