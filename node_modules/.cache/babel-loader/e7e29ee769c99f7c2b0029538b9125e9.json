{"ast":null,"code":"var _jsxFileName = \"/Users/antoninolatocca/Developer/React/react-ricerca-treni/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport Utility from './Utility';\nimport './style.css';\nimport ControllerRicerca from \"./controllo/ControllerRicerca\";\n/**\n * + App\n *    + Ricerca\n *    + TabellaSoluzioni\n *        + RigaSoluzioneTreno\n *        + RigaZeroSoluzioni\n */\n\n/** APP **/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    App.singleton = this;\n    this._controllerRicerca = new ControllerRicerca();\n\n    const _today = new Date();\n\n    const _h = _today.getHours();\n\n    this._stazioni = Utility.getListaStazioni();\n    this.state = {\n      treni: Utility.treni.treni,\n      ricercaPartenza: 'Milano Centrale',\n      ricercaArrivo: 'Roma Termini',\n      ricercaOraInizio: _h,\n      ricercaConvoglio: \"Frecciarossa 1000\"\n    }; // this.state.treni = Utility.ricercaTreni(this.state.ricercaPartenza, this.state.ricercaArrivo, this.state.ricercaOraInizio, this.state.ricercaConvoglio);\n\n    this.handleRicercaArrivoChange = this.handleRicercaArrivoChange.bind(this);\n    this.handleRicercaOraInizioChange = this.handleRicercaOraInizioChange.bind(this);\n    this.handleSelectConvoglioChange = this.handleRicercaConvoglioChange.bind(this);\n  }\n\n  get controllerRicerca() {\n    return this._controllerRicerca;\n  }\n\n  handleRicercaArrivoChange(arrivo) {\n    this.setState({\n      ricercaArrivo: arrivo,\n      treni: Utility.ricercaTreni(this.state.ricercaPartenza, arrivo, this.state.ricercaOraInizio, this.state.ricercaConvoglio)\n    });\n  }\n\n  handleRicercaOraInizioChange(inizio) {\n    this.setState({\n      ricercaOraInizio: inizio,\n      treni: Utility.ricercaTreni(this.state.ricercaPartenza, this.ricercaArrivo, inizio, this.state.ricercaConvoglio)\n    });\n  }\n\n  handleRicercaConvoglioChange(convoglio) {\n    this.setState({\n      ricercaConvoglio: convoglio,\n      treni: Utility.ricercaTreni(this.state.ricercaPartenza, this.ricercaArrivo, this.state.ricercaOraInizio, convoglio)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Ricerca, {\n        stazioni: this._stazioni,\n        ricercaPartenza: this.state.ricercaPartenza,\n        ricercaArrivo: this.state.ricercaArrivo,\n        ricercaOraInizio: this.state.ricercaOraInizio,\n        ricercaConvoglio: this.state.ricercaConvoglio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabellaSoluzioni, {\n        lista: this.state.treni,\n        ricercaPartenza: this.state.ricercaPartenza,\n        ricercaArrivo: this.state.ricercaArrivo,\n        ricercaOraInizio: this.state.ricercaOraInizio,\n        ricercaConvoglio: this.state.ricercaConvoglio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalDettagli, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/** + RICERCA */\n\n\nclass Ricerca extends React.Component {\n  constructor(props) {\n    super(props);\n    this._jsonStazioni = Utility.getListaStazioni();\n    this._jsonConvogli = Utility.getListaRotabili();\n    this.state = {\n      start: this.props.ricercaOraInizio,\n      stazione_partenza: this.props.ricercaPartenza,\n      stazione_arrivo: this.props.ricercaArrivo,\n      convoglio: this.props.ricercaConvoglio\n    };\n    this._stazioni = [];\n\n    for (let item of this._jsonStazioni.values()) {\n      this._stazioni.push({\n        value: item,\n        label: item\n      });\n    }\n\n    ;\n    this._convogli = [];\n\n    for (let item of this._jsonConvogli.values()) {\n      this._convogli.push({\n        value: item,\n        label: item\n      });\n    }\n\n    ;\n    this._orari = [{\n      value: '0',\n      label: '00:00'\n    }, {\n      value: '1',\n      label: '01:00'\n    }, {\n      value: '2',\n      label: '02:00'\n    }, {\n      value: '3',\n      label: '03:00'\n    }, {\n      value: '4',\n      label: '04:00'\n    }, {\n      value: '5',\n      label: '05:00'\n    }, {\n      value: '6',\n      label: '06:00'\n    }, {\n      value: '7',\n      label: '07:00'\n    }, {\n      value: '8',\n      label: '08:00'\n    }, {\n      value: '9',\n      label: '09:00'\n    }, {\n      value: '10',\n      label: '10:00'\n    }, {\n      value: '11',\n      label: '11:00'\n    }, {\n      value: '12',\n      label: '12:00'\n    }, {\n      value: '13',\n      label: '13:00'\n    }, {\n      value: '14',\n      label: '14:00'\n    }, {\n      value: '15',\n      label: '15:00'\n    }, {\n      value: '16',\n      label: '16:00'\n    }, {\n      value: '17',\n      label: '17:00'\n    }, {\n      value: '18',\n      label: '18:00'\n    }, {\n      value: '19',\n      label: '19:00'\n    }, {\n      value: '20',\n      label: '20:00'\n    }, {\n      value: '21',\n      label: '21:00'\n    }, {\n      value: '22',\n      label: '22:00'\n    }, {\n      value: '23',\n      label: '23:00'\n    }];\n  }\n\n  handleRicercaPartenzaChange(val) {\n    App.singleton.setState({\n      ricercaPartenza: val.value\n    });\n    App.singleton.controllerRicerca.handleSelectPartenzaChange(val.value);\n  }\n\n  handleRicercaArrivoChange(val) {\n    this.setState({\n      stazione_arrivo: val.value\n    });\n    App.singleton.controllerRicerca.handleSelectArrivoChange(val.value);\n  }\n\n  handleRicercaOraInizioChange(val) {\n    this.setState({\n      start: val.value\n    });\n    App.singleton.controllerRicerca.handleSelectOraInizioChange(val.value);\n  }\n\n  handleRicercaConvoglioChange(val) {\n    this.setState({\n      convoglio: val.value\n    });\n    App.singleton.controllerRicerca.handleSelectConvoglioChange(val.value);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"rigaRicerca\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"stazionePartenza\",\n              children: \"Da \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"stazionePartenza\",\n              value: this.state.ricercaPartenza,\n              options: this._stazioni,\n              placeholder: this.state.stazione_partenza ? this.state.stazione_partenza : \"Stazione di partenza\",\n              onChange: this.handleRicercaPartenzaChange.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"stazioneArrivo\",\n              children: \"A \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"stazioneArrivo\",\n              value: this.state.ricercaArrivo,\n              options: this._stazioni,\n              placeholder: this.state.stazione_arrivo ? this.state.stazione_arrivo : \"Stazione di arrivo\",\n              onChange: this.handleRicercaArrivoChange.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"dalleOre\",\n              children: \"Ore \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"dalleOre\",\n              value: this.state.start,\n              options: this._orari,\n              placeholder: Utility.displayDigit(this.state.start) + \":00\",\n              onChange: this.handleRicercaOraInizioChange.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"convogli\",\n              children: \"Treno \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"convogli\",\n              value: this.state.ricercaConvoglio,\n              options: this._convogli,\n              placeholder: this.state.convoglio ? this.state.convoglio : \"Treno\",\n              onChange: this.handleRicercaConvoglioChange.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/** + TABELLA */\n\n\nclass TabellaSoluzioni extends React.Component {\n  constructor(props) {\n    super(props);\n    this._ricercaPartenza = this.props.ricercaPartenza;\n    this._ricercaArrivo = this.props.ricercaArrivo;\n    this._ricercaInizio = this.props.ricercaOraInizio;\n    this._convogli = this.props.ricercaConvoglio;\n  }\n\n  render() {\n    let righe = [];\n\n    if (this.props.lista.length > 0) {\n      this.props.lista.forEach(soluzione => {\n        righe.push( /*#__PURE__*/_jsxDEV(RigaSoluzioneTreno, {\n          treno: soluzione\n        }, soluzione.treno, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 20\n        }, this));\n      });\n    } else {\n      righe = [];\n      righe.push( /*#__PURE__*/_jsxDEV(RigaZeroSoluzioni, {}, \"0\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 18\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          id: \"rigaIntestazione\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Partenza\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Arrivo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Durata\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Treno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"hover-red\",\n        children: righe\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/** + + RIGA */\n\n\nclass RigaSoluzioneTreno extends React.Component {\n  handleClickDettagli() {\n    let treno = Utility.getTrenoByNumber(this.props.treno.treno);\n    let fermateTreno = App.singleton.controllerRicerca.getFermateTreno(treno);\n    $('#titoloModal').html(treno.convoglio + \" \" + treno.treno);\n    let html = \"<table className=\\\"table\\\"\";\n\n    for (let i = 0; i < treno.fermate.length; i++) {\n      // let classStyle = (fermateTreno.includes(treno.fermate[i].stazione)) ? \"table-active\" : \"table-info\";\n      html += '<tr><td>${treno.fermate[i].orario}</td><td>${treno.fermate[i].stazione</td></tr>';\n    }\n\n    $('#modalDettaglioBody').html(html + \"</table>\");\n    \"\";\n    $('#modalDettaglioTreno').modal('show');\n  }\n\n  render() {\n    const treno = this.props.treno;\n    let dati = App.singleton.controllerRicerca.getDatiRigaTreno(treno);\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: [dati.stazione_partenza, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: dati.orario_partenza\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [dati.stazione_arrivo, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: dati.orario_arrivo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: dati.durata\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [treno.convoglio, \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: treno.treno\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 31\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          id: this.props.treno.treno,\n          className: \"fas fa-info-circle\",\n          type: \"button\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#modalDettaglioTreno\",\n          onClick: this.handleClickDettagli.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/** + + RIGAVUOTA */\n\n\nclass RigaZeroSoluzioni extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"error\",\n      children: /*#__PURE__*/_jsxDEV(\"td\", {\n        colSpan: \"4\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-exclamation-triangle fa-4x my-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 69\n        }, this), \"Purtroppo non ci sono risultati con questi filtri di ricerca\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass ModalDettagli extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade\",\n      id: \"modalDettaglioTreno\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"titoloModal\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              id: \"titoloModal\",\n              children: \"Dettagli treno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-light\",\n              \"data-dismiss\": \"modal\",\n              \"aria-label\": \"Close\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 42\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            id: \"modalDettaglioBody\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/antoninolatocca/Developer/React/react-ricerca-treni/src/App.js"],"names":["React","useState","useEffect","Select","Utility","ControllerRicerca","App","Component","constructor","props","singleton","_controllerRicerca","_today","Date","_h","getHours","_stazioni","getListaStazioni","state","treni","ricercaPartenza","ricercaArrivo","ricercaOraInizio","ricercaConvoglio","handleRicercaArrivoChange","bind","handleRicercaOraInizioChange","handleSelectConvoglioChange","handleRicercaConvoglioChange","controllerRicerca","arrivo","setState","ricercaTreni","inizio","convoglio","render","Ricerca","_jsonStazioni","_jsonConvogli","getListaRotabili","start","stazione_partenza","stazione_arrivo","item","values","push","value","label","_convogli","_orari","handleRicercaPartenzaChange","val","handleSelectPartenzaChange","handleSelectArrivoChange","handleSelectOraInizioChange","displayDigit","TabellaSoluzioni","_ricercaPartenza","_ricercaArrivo","_ricercaInizio","righe","lista","length","forEach","soluzione","treno","RigaSoluzioneTreno","handleClickDettagli","getTrenoByNumber","fermateTreno","getFermateTreno","$","html","i","fermate","modal","dati","getDatiRigaTreno","orario_partenza","orario_arrivo","durata","RigaZeroSoluzioni","ModalDettagli"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport Utility from './Utility';\n\nimport './style.css';\nimport ControllerRicerca from \"./controllo/ControllerRicerca\";\n\n/**\n * + App\n *    + Ricerca\n *    + TabellaSoluzioni\n *        + RigaSoluzioneTreno\n *        + RigaZeroSoluzioni\n */\n\n/** APP **/\nclass App extends React.Component {\n  static singleton;\n\n  constructor(props) {\n    super(props);\n    App.singleton = this;\n    this._controllerRicerca = new ControllerRicerca();\n    const _today = new Date();\n    const _h = _today.getHours();\n    this._stazioni = Utility.getListaStazioni();\n    this.state = {\n      treni: Utility.treni.treni,\n      ricercaPartenza: 'Milano Centrale',\n      ricercaArrivo: 'Roma Termini',\n      ricercaOraInizio: _h,\n      ricercaConvoglio: \"Frecciarossa 1000\"\n    };\n    // this.state.treni = Utility.ricercaTreni(this.state.ricercaPartenza, this.state.ricercaArrivo, this.state.ricercaOraInizio, this.state.ricercaConvoglio);\n\n    this.handleRicercaArrivoChange = this.handleRicercaArrivoChange.bind(\n      this\n    );\n\n    this.handleRicercaOraInizioChange = this.handleRicercaOraInizioChange.bind(\n      this\n    );\n\n    this.handleSelectConvoglioChange = this.handleRicercaConvoglioChange.bind(\n      this\n    );\n  }\n\n  get controllerRicerca(){\n    return this._controllerRicerca;\n  }\n\n  handleRicercaArrivoChange(arrivo) {\n    this.setState({\n      ricercaArrivo: arrivo,\n      treni: Utility.ricercaTreni(this.state.ricercaPartenza, arrivo, this.state.ricercaOraInizio, this.state.ricercaConvoglio)\n    });\n  }\n\n  handleRicercaOraInizioChange(inizio) {\n    this.setState({\n      ricercaOraInizio: inizio,\n      treni: Utility.ricercaTreni(this.state.ricercaPartenza, this.ricercaArrivo, inizio, this.state.ricercaConvoglio)\n    });\n  }\n\n  handleRicercaConvoglioChange(convoglio) {\n    this.setState({\n      ricercaConvoglio: convoglio,\n      treni: Utility.ricercaTreni(this.state.ricercaPartenza, this.ricercaArrivo, this.state.ricercaOraInizio, convoglio)\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Ricerca\n          stazioni={this._stazioni}\n\n          ricercaPartenza={this.state.ricercaPartenza}\n          ricercaArrivo={this.state.ricercaArrivo}\n          ricercaOraInizio={this.state.ricercaOraInizio}\n          ricercaConvoglio={this.state.ricercaConvoglio}\n        />\n        <TabellaSoluzioni\n          lista={this.state.treni}\n          ricercaPartenza={this.state.ricercaPartenza}\n          ricercaArrivo={this.state.ricercaArrivo}\n          ricercaOraInizio={this.state.ricercaOraInizio}\n          ricercaConvoglio={this.state.ricercaConvoglio}\n        />\n\n        <ModalDettagli />\n      </div>\n    );\n  }\n}\n\n\n\n/** + RICERCA */\nclass Ricerca extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this._jsonStazioni = Utility.getListaStazioni();\n    this._jsonConvogli = Utility.getListaRotabili();\n\n    this.state = {\n      start : this.props.ricercaOraInizio,\n      stazione_partenza : this.props.ricercaPartenza,\n      stazione_arrivo : this.props.ricercaArrivo,\n      convoglio: this.props.ricercaConvoglio\n    };\n\n    this._stazioni = [];\n    for(let item of this._jsonStazioni.values()) {\n      this._stazioni.push({value: item, label: item});\n    };\n\n    this._convogli = [];\n    for(let item of this._jsonConvogli.values()) {\n      this._convogli.push({value: item, label: item});\n    };\n\n    this._orari = [\n      {value: '0', label: '00:00' },\n      {value: '1', label: '01:00' },\n      {value: '2', label: '02:00' },\n      {value: '3', label: '03:00' },\n      {value: '4', label: '04:00' },\n      {value: '5', label: '05:00' },\n      {value: '6', label: '06:00' },\n      {value: '7', label: '07:00' },\n      {value: '8', label: '08:00' },\n      {value: '9', label: '09:00' },\n      {value: '10', label: '10:00' },\n      {value: '11', label: '11:00' },\n      {value: '12', label: '12:00' },\n      {value: '13', label: '13:00' },\n      {value: '14', label: '14:00' },\n      {value: '15', label: '15:00' },\n      {value: '16', label: '16:00' },\n      {value: '17', label: '17:00' },\n      {value: '18', label: '18:00' },\n      {value: '19', label: '19:00' },\n      {value: '20', label: '20:00' },\n      {value: '21', label: '21:00' },\n      {value: '22', label: '22:00' },\n      {value: '23', label: '23:00' }\n    ];\n  }\n\n  handleRicercaPartenzaChange(val) {\n    App.singleton.setState({ricercaPartenza: val.value});\n    App.singleton.controllerRicerca.handleSelectPartenzaChange(val.value);\n  }\n\n  handleRicercaArrivoChange(val) {\n    this.setState({stazione_arrivo: val.value});\n    App.singleton.controllerRicerca.handleSelectArrivoChange(val.value);\n  }\n\n  handleRicercaOraInizioChange(val) {\n    this.setState({start: val.value});\n    App.singleton.controllerRicerca.handleSelectOraInizioChange(val.value);\n  }\n\n  handleRicercaConvoglioChange(val) {\n    this.setState({convoglio: val.value});\n    App.singleton.controllerRicerca.handleSelectConvoglioChange(val.value);\n  }\n\n  render() {\n    return (\n      <div id=\"rigaRicerca\">\n        <form>\n          <div className=\"row\">\n            <div className=\"col form-group\">\n              <label htmlFor=\"stazionePartenza\">Da </label>\n              <Select\n                id=\"stazionePartenza\"\n                value={this.state.ricercaPartenza}\n                options={this._stazioni}\n                placeholder={(this.state.stazione_partenza) ? this.state.stazione_partenza : \"Stazione di partenza\"}\n                onChange={this.handleRicercaPartenzaChange.bind(this)}\n              />\n            </div>\n            <div className=\"col form-group\">\n              <label htmlFor=\"stazioneArrivo\">A </label>\n              <Select\n                id=\"stazioneArrivo\"\n                value={this.state.ricercaArrivo}\n                options={this._stazioni}\n                placeholder={(this.state.stazione_arrivo) ? this.state.stazione_arrivo : \"Stazione di arrivo\"}\n                onChange={this.handleRicercaArrivoChange.bind(this)}\n              />\n            </div>\n            <div className=\"col form-group\">\n              <label htmlFor=\"dalleOre\">Ore </label>\n              <Select\n                id=\"dalleOre\"\n                value={this.state.start}\n                options={this._orari}\n                placeholder={Utility.displayDigit(this.state.start) + \":00\"}\n                onChange={this.handleRicercaOraInizioChange.bind(this)}\n              />\n            </div>\n            <div className=\"col form-group\">\n              <label htmlFor=\"convogli\">Treno </label>\n              <Select\n                id=\"convogli\"\n                value={this.state.ricercaConvoglio}\n                options={this._convogli}\n                placeholder={(this.state.convoglio) ? this.state.convoglio : \"Treno\"}\n                onChange={this.handleRicercaConvoglioChange.bind(this)}\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\n\n/** + TABELLA */\nclass TabellaSoluzioni extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this._ricercaPartenza = this.props.ricercaPartenza;\n    this._ricercaArrivo = this.props.ricercaArrivo;\n    this._ricercaInizio = this.props.ricercaOraInizio;\n    this._convogli = this.props.ricercaConvoglio;\n  }\n\n  render() {\n    let righe = [];\n\n    if(this.props.lista.length > 0) {\n      this.props.lista.forEach((soluzione) => {\n        righe.push(<RigaSoluzioneTreno treno={soluzione} key={soluzione.treno} />);\n      });\n    } else {\n      righe = [];\n      righe.push(<RigaZeroSoluzioni key=\"0\"/>); \n    }\n\n    return (\n      <table>\n        <thead>\n          <tr id=\"rigaIntestazione\">\n            <th>Partenza</th>\n            <th>Arrivo</th>\n            <th>Durata</th>\n            <th>Treno</th>\n          </tr>\n        </thead>\n        <tbody className=\"hover-red\">{righe}</tbody>\n      </table>\n    );\n  }\n}\n\n\n/** + + RIGA */\nclass RigaSoluzioneTreno extends React.Component {\n\n  handleClickDettagli() {\n    let treno = Utility.getTrenoByNumber(this.props.treno.treno);\n    let fermateTreno = App.singleton.controllerRicerca.getFermateTreno(treno);\n\n    $('#titoloModal').html(treno.convoglio + \" \" + treno.treno);\n    let html = \"<table className=\\\"table\\\"\";\n    for (let i = 0; i < treno.fermate.length; i++) {\n      // let classStyle = (fermateTreno.includes(treno.fermate[i].stazione)) ? \"table-active\" : \"table-info\";\n      html += '<tr><td>${treno.fermate[i].orario}</td><td>${treno.fermate[i].stazione</td></tr>';\n    }\n    $('#modalDettaglioBody').html(html + \"</table>\");\"\"\n    $('#modalDettaglioTreno').modal('show');\n  }\n\n  render() {\n    const treno = this.props.treno;\n\n    let dati = App.singleton.controllerRicerca.getDatiRigaTreno(treno);\n\n    return (\n      <tr>\n        <td>\n          {dati.stazione_partenza}\n          <br />\n          <span className=\"font-bold\">{dati.orario_partenza}</span>\n        </td>\n        <td>\n          {dati.stazione_arrivo}\n          <br />\n          <span className=\"font-bold\">{dati.orario_arrivo}</span>\n        </td>\n        <td>\n          <b>{dati.durata}</b>\n        </td>\n        <td>{treno.convoglio} <b>{treno.treno}</b> <i id={this.props.treno.treno} className=\"fas fa-info-circle\" type=\"button\" data-toggle=\"modal\" data-target=\"#modalDettaglioTreno\" onClick={this.handleClickDettagli.bind(this)}></i></td>\n      </tr>\n    );\n  }\n}\n\n/** + + RIGAVUOTA */\nclass RigaZeroSoluzioni extends React.Component {\n\n  render() {\n\n    return (\n      <tr className=\"error\">\n        <td colSpan='4'>\n          <i className=\"fas fa-exclamation-triangle fa-4x my-3\"></i><br/>\n          Purtroppo non ci sono risultati con questi filtri di ricerca\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass ModalDettagli extends React.Component {\n\n  render() {\n    return(\n      <div className=\"modal fade\" id=\"modalDettaglioTreno\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"titoloModal\" aria-hidden=\"true\">\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"titoloModal\">Dettagli treno</h5>\n              <button type=\"button\" className=\"btn btn-light\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\"><i className=\"fas fa-times\"></i></span>\n              </button>\n            </div>\n            <div className=\"modal-body\" id=\"modalDettaglioBody\">\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}